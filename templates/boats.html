{% extends "layout.html" %}

{% block navitems %}
{% include "navbar.html" %}
{% endblock %}

{% block content %}
<table class="table table borderless">
  <thead>
    <tr>
      <th scope="col"></th>
      <th scope="col">Tyyppi</th>
      <th scope="col">Rakennusvuosi</th>
      <th scope="col">Omistajat</th>
      <th scope="col">Yll채pit채j채</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      {% if current_boat %}
        <th>{{ current_boat.name }}</td>
        <td>{{ current_boat.type }}</td>
        <td>{{ current_boat.year }}</td>
        <td>
          {% for owner in owners %} 
            {{ owner.first_name }} {{ owner.last_name }} </br> 
          {% endfor %}
        </td>
        <td>
          {% for owner in owners %} 
            {% if owner.boat_admin == True %} 
              X
            {% endif %} 
            </br> 
          {% endfor %}
        </td>
        <td>
          {% if is_admin %}
            <a href="/manageboat/{{ current_boat.id }}" class="btn btn-primary" role="button">Muokkaa</a>
          {% endif %} 
        </td>
      {% endif %}
    </tr>
  </tbody>
</table>

List of boats with button to choose.
<!-- Accordions for add boat and join boat -->

<form action="/addboat" method="POST">
  <div class="form-group col-6">
    <label for="boat_name">Veneen nimi</label>        
    <input type="text" class="form-control" name="boat_name" id="boat_name" required>
  </div>
  <div class="form-group col-6">
    <label for="boat_type">Veneen tyyppi</label>        
    <input type="text" class="form-control" name="boat_type" id="boat_type" required>
  </div>
  <div class="form-group col-6">
    <label for="boat_year">Rakennusvuosi</label>        
    <input type="number" class="form-control" name="boat_year" id="boat_year" required>
  </div>
  <div class="form-group col-6">
    <label for="boat_description">Kuvaus</label>        
    <textarea class="form-control" rows="3" name="boat_description" id="boat_description"></textarea>
    <p>
      <span id="charCount">0</span>/300 merkki채
    </p>  
    
    <script 
      src="../static/js/charCount.js" 
      textField="boat_description" 
      charCount="charCount" 
      max="300">
    </script>
  
  </div>
  <div class="form-group col-6">
    <button type="submit" class="btn btn-primary">Luo vene</button>
  </div>  
</form>
<br/>
  <form action="/joinboat" method="POST">
    <div class="form-group col-6">
      <label for="boat_name">Veneen avainkoodi</label>        
      <input type="text" class="form-control" name="boat_key" id="boat_key">
    </div>
    <div class="form-group col-6">
      <button type="submit" class="btn btn-primary">Liity veneeseen</button>
    </div>  
  </form>
</p>
{% endblock %}
